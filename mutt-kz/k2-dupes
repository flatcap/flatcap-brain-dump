0062 6a5a4a7 Updated Japanese translation [upstream]
0063 885a61e give user time to read SASL init error message [upstream]
0064 1350e14 gnutls: catch gnutls_init failures [upstream]
0067 1391c3e Support passwords of up to 127 characters. [upstream]
0088 ecb6663 Update Italian translation
0089 0dc3868 Do not use SASL for login unless AUTH=LOGIN is advertised (closes #3556)
0090 f9ffd2e check_charset: check for NULL before calling strtok_r (closes #3326)
0091 1b4ad6f gnutls:tls_compare_certificates: check strstr for failure (closes #3547)
0092 0b09810 Fix some spelling errors (closes #3493)
0093 7a45da0 silence some style warnings
0094 9c85e35 Set text_flowed after send-hook has been applied (closes #3550)
0095 f160142 Do not use stack-allocated space for BUFFERs
0096 e054f17 Split mutt_buffer_new out of mutt_buffer_init.
0097 6e11e8c mutt_buffer_init: just memset the buffer (closes #3588)
0098 8b20777 Add compiler and configure info to mutt -v output (closes #3537)
0099 46cd95a make ascii_strcasecmp properly handle unequal length strings with the same prefix
0100 fa76bd7 don't perform rfc3676 space stuffing when recalling a postponed message where it has already been done.
0101 9fadd96 list-reply documentation should mention its behavior wrt the List-Post header field.
0102 1c221e7 additional documentation for $editor. closes #3602
0103 9daf62a invoke gpgme_check_version() as required to initialize the library.
0104 74f0332 Fix VPATH build by running txt2c.sh from ${srcdir} rather than ".".
0105 472ae8d Make imap_free_header_data type-safe
0106 c6f1f1f make imap_private.h include message.h for IMAP_HEADER_DATA definition
0107 99add43 use new function iswsp() in place of isspace() when testing for whitespace.
0108 0821ac2 update documentation for $pgp_getkeys_command to note that %r is replaced with the email address, not the public key ID
0109 833ef6b Correct typos
0110 4b02013 use SSL_get_version() to display the actual SSL protocol used rather than the fixed string SSL.
0111 e3abb4e use TLSv1.2 if available in the system OpenSSL when using starttls
0112 1f02f5e Fix NULL pointer dereference in notation name
0113 4f014bf fix segfault in pop driver. when rereading the message header, the ENVELOPE* struct is freed, but ctx->subj_hash retains a pointer to env->real_subj, so the hash table entry must be deleted prior to calling mutt_free_envelope()
0114 b772bad updated fr.po
0115 44d93e4 if the peer's x.509 cert is not valid, we need to allow the user to inspect it even if the digital signatures are valid
0116 6075796 fix problem where mutt_substrdup() was called with the start pointer > end pointer, as a result of using SKIPWS(). This occurred because the header field had an empty body, so the trailing newline was skipped over. The fix is to just skip over ascii space and htab.
0117 17d035b rename iswsp() to is_email_wsp()
0118 6c927ea add variables for disabling TLSv1.1/1.2 when compiled against OpenSSL 1.0.1
0119 9e143e7 add support for TLSv1.1/1.2 when using GNUTLS.
0120 e77c0dc disable tls v1.1/1.2 in mutt_ssl_starttls() based on $ssl_use_tlsv1_*
0121 2ebe2c4 remove duplicate const keyword
0122 ad9a2a6 update ru.po
0123 944abb0 make configure define _POSIX_C_SOURCE, _XOPEN_SOURCE and _XOPEN_SOURCE_EXTENDED to comply with POSIX.1-2008 and XSI conforming applications.
0124 215f83c use WACS_* macros for printing wide versions of the line drawing characters when linking against ncursesw.
0125 c188cea updated cs.po
0126 bc4bfd6 http://thread.gmane.org/gmane.mail.mutt.devel/15710
0127 92b6897 detect newer BDB versions up to 5.2
0128 e87de3c support nbsp in the pager.
0129 6675304 allow for CRLF line endings when comparing for the OpenPGP block identifiers
0130 643d710 backout out changeset 36b0cc717ecc
0131 ea40fcf remove extern decl for Charset_is_utf8 since menu.c includes mbyte.h which has the same decl.
0132 7687280 remove redundant #include statements
0133 127f2d7 Fix 'make distcheck': missing txt2c* and po/mutt.pot cleanup
0134 a1fb1f0 modernize intialization of configure.ac
0135 67e670e change AM_CONFIG_HEADER to AC_CONFIG_HEADERS and move it after the AM_INIT_AUTOMAKE. config.h was not being generated from the dist package.
0136 03ce264 update configure.ac with autoupdate
0137 306999d remove deprecated check for signal() return type
0138 671ad41 fix forgotten RETSIGTYPE change id [18a724e9eba0]
0139 e11c78f add version.sh and check_sec.sh to EXTRA_DIST so they are including in the "make dist" output.
0140 5d204db Fix VPATH build outside Mercurial repositories.
0141 3e38cb1 Fix VPATH-based generation of non-hg-mq based patchlists.
0142 415a354 If neither --with-idn nor --without-idn are given, use -I/usr/include/idn when checking for the libidn header files, if present (needed for Solaris 11).
0143 bb2061a Uses SSLv23_client_method() in mutt_ssl_starttls() because TLSv1_2_client_method() does not honor the SSL_OP_NO_TLS* flags.
0144 cf7979f avoid using m4_esyscmd_s() since it is not available in older versions of autoconf. use m4_esyscmd() and m4_translit() to whack the newline instead.
0145 bdee4a8 use [] around body of AC_CHECK_HEADER to avoid problems with older versions of autoconf
0146 db97365 Use the directory where the version.sh script is located as the directory where it is run. Since this will be run in a separate shell anyway, there's no need to worry about changing current directory.
0147 5da6c14 restore ability for version.sh to cope with a repository directory with a space in it.
0148 d43bc91 remove m4_translit because it generates a warning with newer versions of autoconf when used in AC_INIT. Instead, use tr -d to output the version string without a trailing newline.
0149 255e370 make the SETCOLOR() macro use bkgdset() on systems which have it, and attrset() when we don't.
0150 d60c423 document the TLS changes since 1.5.21
0151 a60ede3 add __FREE_CHECKED__
0152 253ad26 update ChangeLog
0153 a11b308 Ensure that the in-reply-to header field was actually present before deciding it was removed.
0154 f828124 reset to color normal before clearing to end of line when printing a message/error string
0155 58f8195 update regexp to include const keyword. The auto generated documentation of functions was failing due to a change in the source code format.
0156 41eb969 Fix accidental var redeclation with --enable-exact-address
0157 efcfc27 fix xml validation error in manual.xml in auto-generated content due to missing paragraph mark in the $editor docstring
0158 86ed1d6 Drop unneeded variable HEADER_CACHE that causes clang warnings.
0159 56780f0 display +/-NCURSES_WIDECHAR when displaying ncurses version to show whether we are linked against -lncurses or -lncursesw
0160 0038d81 Backed out changeset bf84f24e512d
0161 82ed220 Fix memory leak when multiple x-label or supersedes header fields exist in the header.
0162 772b413 Remove unused variable `matched'.
0163 5d18eb4 Fix regression introduced by [10cc06eff52b] where the CLEARLINE() removal was not replaced by a move() to position the cursor at the correct location to draw the status bar.
0164 a76d211 When "make install" fails to chgrp or chmod the mutt_dotlock binary, add the reason why we are doing this so the user knows what to look for.
0165 9d8d04c avoid debug warning about trailing whitespace in a base64 encoded attachment
0166 3084a5a allow use of sync-mailbox when the current limit has no visible messages
0167 012556f detect pipermail-style obscured return path in mbox From lines
0168 a28d796 change semantics of mutt_is_autoview() to return 1 if there is a matching mailcap entry and either $implicit_autoview is set or the MIME type matches the user's auto_view list.
0169 e5fc23e use a separate flag for mutt_hcache_store() to signal that the gettimeofday() value should be substituted, so that a 0 uidvalidity can be used by the imap driver.
0170 3f2d472 when falling back to viewing an attachment as text in the internal pager, perform charset conversion
0171 da89e6f backout [392e945dfba7]
0173 a543023 use pkg-config to look for libidn if available.
0174 e0640ec remove PKG_CHECK_MODULE() check and always use AC_CHECK_HEADERS()
0175 225d2d4 do not explicitly reset the terminal attributes and move the cursor in mutt_endwin(). endwin() itself should handle this.
0176 856144b add support for $mail_check_recent to mh mailbox driver
0177 7870815 do not use mutt_message() to display prompt in mutt_yesorno().
0179 a36a9a0 explicitly call mutt_refresh() prior to endwin() to force a screen redraw.
0180 7f48190 fix potential buffer overflow in off-by-one bounds checking error
0181 3d98f20 increase string size by one byte to accomodate the terminating null character in fscanf() since the maximum field width does not include it
0182 fc52cc6 use of sscanf() had undefined behavior, replace with simple parsing instead
0183 9f53dd6 use mkdtemp() to create temporary directory rather than mktemp() followed by mkdir()
0188 d3d1a22 fix various compiler warnings; most were due to unchecked return values from system calls.
0189 423f8c4 use gethostname() to determine the system host name
0190 f965bbe Backed out changeset 1142ed8974fa
0191 cb867dd backout c1371176ea45
0192 132babd Don't exit pager if quit=ask is answered "no".
0220 b349e60 fix typos in comments
0221 b28dadf fix more comment typos
0222 8c9180d Consistently use mutt_buffer_init function
0223 5edbce2 Ensure that BUFFER variables are initialized to prevent later attempts to traverse an uninitialized pointer.
0224 df2ae0c Fix segfault when viewing text attachments in compose menu. (closes #3644)
0225 96b2adb include <stdbool.h> for definition 'true'
0226 ada7324 Problems with mutt.1:
0227 629b0a3 Problems with muttrc.5:
0228 ac7857e adds some missing options in doc and adds man pages for binaries pgpewrap and pgpring.
0229 8541384 add missing files that were supposed to be included with [76f8df0ac80396559aa80e7f145be6f235a6db51]
0230 60dd53c updated Japanese translation
0231 9fbba97 updated Ukranian translation
0232 66974be updated Catalan translation
0233 1c2550c Rework logic to avoid advancing list pointer inside the for loop.
0234 80235b4 automatic post-release commit for mutt-1.5.22
0235 b9feee7 mutt-1.5.22 signed
0236 770abc8 update UPDATING with 1.5.22 release date
0255 8fbb4d4 remove <stdbool.h> and use "1" instead of "true". closes #3657
0256 6c368e3 add note about use of ! ~Q in send-hook when paired with reply-hook.
0257 b5cfd57 only terminate the write-half of the TLS connection to avoid hanging if the remote doesn't respond.
0258 ab17e55 return 0 if import of cert failed to match other error conditions.
0259 1a30594 Display the KeyID when the pubkey is not found in the user's keyring during signature verification.
0260 751b8fe use LOFF_T as the type for variables used in fseeko()
0261 403d815 Ensure that at least one signature was generated to catch the case where $pgp_sign_as is unset and no default key is specified in ~/.gnupg/gpg.conf
0262 224c18e When recalling a postponed message that does not have a x-mutt-fcc header field, generate a default FCC just as we do for new messages. If x-mutt-fcc is present but empty, we assume that means the user does not want a copy.
0263 3f78c2d Allow filename prompt when saving multiple attachments to a directory. (closes #3083)
0264 1f5eec6 version.sh: step back from $() to ``. closes #3661 (grafted from 01cf5814dfe5e79b65b1d950aab1276d19a9f031)
0265 0c8bde9 Fix postpone/resume to not remove a Mail-Followup-To header (closes #3070)
0266 041ab78 remove trailing period from documentation for $pgp_list_pubring_command
0267 6e61c3b remove trailing period from documentation for $pgp_list_secring_command
0278 044e86c Fix buffer overrun caused by not updating a string length after address expansion.
0284 028e468 add user visible changes since 1.5.22 release.
0285 f945976 automatic post-release commit for mutt-1.5.23
0286 f62596d Updated Czech translation
0287 3c3d0aa fix typo in man page.
0288 35c77ab Updated Russian translation.
0289 749aaab Updated Ukrainian translation.
0290 056295f Updated Catalan translation.
0291 5b1280a Updated French translation.
0300 2b30d14 Refactor the address list generation out of the find_keys routines.
0302 b540986 Pull is_numerical_keyid() into crypt.c.
0304 d393568 Implement crypt_opportunistic_encrypt().
0305 7d0217a Add the crypt_opportunistic_encrypt option and calls.
0307 1e65e29 Improve oppenc key matching.
0308 8a8fe39 Fix a memory leak in mutt_query_complete.
0309 79f2df9 Fix segv in pgp_getkeybystr(). (closes #3725)
0310 8019a88 mutt_sasl: fix double negative in iptostring result check (fixes #3705)
0311 8122414 mutt_sasl: whitespace only
0312 0e7c97c Fix deprecated gnutls_protocol_set_priority. (closes #3515)
0313 b2001e8 Disable SSLv3 by default.
0314 afce388 Remove duplicate SmimeCryptAlg declaration in globals.h
0315 508fc59 Fix variable name in configure.ac.
0316 d71651b Clarify PGPPATH usage in manpages.
0317 c264021 Note correct usage of $edit_headers. (closes #3673)
0318 8ccb835 Enable %a format string for all pgp command configs. (closes #3699)
0319 1dd77ec Override draft headers with arguments. (closes #3580)
0320 655ef37 Fix parse_pub_line to allow an empty User-ID field for a pub record. (see #3564)
0321 7095039 Wrap pgp_uid_t->addr in NONULL(). (closes #3564)
0322 2fe19d5 Revert write_one_header() to skip space and tab. (closes #3716)
0323 0c2be9b Fix segfault of extract-keys (^K) under gpgme. (closes #3698)
0324 9a27f77 Change bounce to use mutt_parse_adrlist() for address parsing.
0325 5e19e17 Add gpg signature name. (closes #3478)
0326 f4e1b54 Add color type for prompts.
0327 5b42ff3 Add option to encrypt postponed messages. (closes #3665)
0328 caa7add Add a scratch buffer to the history ring. (closes #3082)
0329 b35e677 Also colorize the initial mutt_enter_fname prompt.
0330 534c449 Fix the hcache type punning warning.
0331 6067c7b Fix some context, data, and key memory leaks in gpgme.
0332 7fdbbc6 Allow short and long key ID user input in pgp_getkeybystr()
0333 2687730 Allow short and long key ID user input in crypt_getkeybystr()
0334 8b1b958 HEAD is dead, remove wrong instruction from doc/devel-notes.txt
0335 d4bb678 pgp_getkeybystr: Pull key matching out of the address match loop.
0336 417ad8f Implement mail-key, Esc-K, for gpgme. (closes #3488)
0337 dabe7ab Corrected various spelling mistakes (most of them reported by codespell).
0338 752a189 Remove GPG_AGENT_INFO check for GnuPG 2.1 compatibility. (closes #3715)
0339 f02216a Clean up gnutls warnings.
0340 aef92ef Clean up sasl warnings.
0341 80a19c0 gpgme: guard mail-key on presence of gpgme_op_export_keys
0342 d7e1c5b gpgme: typo in previous commit
0343 a5dc305 Send the IMAP \Draft flag when postponing a message.
0344 f45fdd7 Update smime_encrypt_with documentation to list all algorithms.
0345 c98a988 Fix mutt_parse_crypt_hdr() sign_as behavior.
0346 f376908 Protect SmimeDefaultKey for postpone/resume.
0347 c8504a8 Change the smime_encrypt_with default to aes256.
0349 de6cfd0 Rename auto_mode parameter to oppenc_mode.
0354 b3e483e Fix pgp-gpgme to set revoke/expired/disabled flags.
0355 8ae4aef Cache uid validity in crypt_key_t.
0356 27587c4 Fix buffer underread for empty header values. (closes #3736)
0357 a7ba17c Protect addr with NONULL in pgp_getkeybyaddr.
0358 e833daa Convert pgp_key_t fingerprint to a char* (see #3695)
0359 0d0d258 Add fingerprint record parsing for pgp list keys. (see #3695)
0360 acd6215 Fix pgp_application_pgp_handler to remove all tempfiles.
0361 05c6e61 Clarify hook documentation to specify regexp instead of pattern.
0362 26bcfc8 Add entries for =B and =h in pattern modifier table.
0363 1b24467 Document limitation of color index and server-side searches. (see #3723)
0364 c3d46c4 Add a security bit to the message for oppenc mode.
0365 38ade9d Add ui elements for oppenc mode.
0366 db8cb0f Fix const errors caused by find_keys() changes.
0367 b03ac24 Fix smime.rc typos and spacing issues. (closes #3745)
0368 85fce25 Clarify hook pattern vs regexp in muttrc.man page.
0369 9c7cbf2 Allow attachments from unencrypted emails to be deleted.
0370 ba141bc Use fingerprints instead of keyIDs internally. (see #3695)
0371 2a5ee63 Fix a few more incorrect documentation lines for hooks.
0372 0598a02 Allow multiple crypt-hooks with the same regexp. (closes #3727).
0373 c8ec16c Add $crypt_confirmhook option. (see #3727)
0374 41f1159 Fix performance regression for ~b/~B searching. (closes #3743)
0375 bedc228 Provide SSL cipher selection option. (closes #3167)
0376 1519cc1 Start cleaning up and fixing smime_keys.pl (closes #3324) (see #2456)
0377 8f71b76 smime_keys: quote filenames. (closes #3575) (see #2456)
0378 1f38187 smime_keys: Convert openssl execution to use open("-|",...). (see #3575) (see #2456)
0379 f4ef8ce smime_keys: Handle certificate chains in add_cert. (closes #3339) (closes #3559)
0380 6db5d80 smime_keys: Add purpose flag to index.
0381 bef8643 smime_keys: Add refresh command.
0382 2f78443 Rewrite S/MIME key searching. Add purpose checking.
0383 9964c3d Add comment about "(f)orget it" choice in pgp/smime send menus.
0384 e277772 Fix IMAP segfault due to NULL capstr.
0385 1f8e266 Add note to manual clarifying push/exec and folder-hook order.
0386 11035fc Convert from using mkinstalldirs to $(MKDIR_P).
0387 1e29514 Remove the automake mkinstalldirs script.
0388 97ec52c Remove 'hit enter' prompt for GPGME initialization errors.
0389 8ee5308 Use $(VAR) instead of @VAR@ in Makefile.am files. (closes #3664)
0390 5fd3622 Fix batch mode lockup. (closes #3761) (closes #3760)
0391 24c06e7 Terminal status line support, based on the xterm title patch.
0392 17bf976 Allow fingerprint user input for key selection. (see #3695)
