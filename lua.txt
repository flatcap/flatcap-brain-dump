integrate scripting language
	lua, perl, python, ruby

lua as a testing framework: what would I need to expose?
	index functions?
	sidebar functions?
	variables?
	call functions
	macros
	send keystrokes
	get error codes returned from functions

lua initially debug only (for testing)

lua -> travis? / testing
	=> public access to test mailboxes

lua-testing => save_results()

---

lua colouring of
	email in pager
	index

âˆ€ line
	call lua script
	pass copy of entire envelope
	pass line number
	returns:
		success
		stop now
		hide line
	callbacks:
		set colour (object)
		set colour (range)
		change line (new text)
		insert line (new text)
		delete line (num lines?)

Create a test rig
	cat mbox | test-rig config.lua
	ansi output

